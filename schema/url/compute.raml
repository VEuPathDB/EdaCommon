#%RAML 1.0 Library

types:

  JobID: !include https://raw.githubusercontent.com/VEuPathDB/lib-hash-id/v1.1.0/schema/hash-id.raml

  JobStatus:
    type: string
    enum:
      - queued
      - in-progress
      - complete
      - failed
      - expired

  JobResponse:
    type: object
    properties:
      jobID:
        type: JobID
      status:
        type: JobStatus
      queuePosition:
        type: integer
        format: int32
        required: false
    additionalProperties: false

  ComputeRequestBase:
    type: object
    properties:
      studyId:
        type: string
      filters:
        type: array
        items:
          type: API_Filter
        required: false
      derivedVariables:
        type: array
        items:
          type: DerivedVariableSpec

  ComputeConfigBase:
    type: object
    additionalProperties: true
    properties:
      outputEntityId: string

  PlotReference:
    type: object
    additionalProperties: false
    properties:
      computedVariableId: string
      variablePlotRef?: string

  ComputedVariableMetadata:
    type: object
    additionalProperties: false
    properties:
      computedVariables: API_VariableWithValues[]
      computedCollections: API_Collection[]
      plotReferences: PlotReference[]
